---
// @ts-nocheck

import MainLayout from '../layouts/MainLayout.astro';
import Hero from '../components/Hero.astro';
import ZoomPopOut from '../components/ZoomPopOut.astro';
import Problem from '../components/Problem.astro';
import Features from '../components/Features.astro';
import OfficeHeadshots from '../components/OfficeHeadshots.astro';
import TearSheet from '../components/TearSheet.astro';
import Testimonials from '../components/Testimonials.astro';
import Process from '../components/Process.astro';
import BriefBio from '../components/BriefBio.astro';
import HeadshotsNear from '../components/HeadshotsNear.astro';
import Professions from '../components/Professions.astro';
import DidYouKnow from '../components/DidYouKnow.astro';
import FAQs from '../components/FAQs.astro';
import NeuralPortrait from '../components/NeuralPortrait.astro';
import FloatingStats from '../components/FloatingStats.astro';
import videoPoster from '../assets/RW_FINAL_V1_FOR REVIEW.00_00_48_06.Still004 (16 x 9) - compressed.jpg';
import promoVideo from '../assets/RW_V2_For Review-2.mp4';
import captions from '../assets/captions.vtt';

const title = 'Richard Waine Photography';
const h1 = 'Professional Headshots Lancaster';

// Hero section content
const heroContent = {
  title: ["WORLD CLASS", "HEADSHOT", "EXPERIENCE"],  
  subtitle: "Beyond photography. We craft your professional presence with cinematic precision, luxury service, and results that open doors.",
  primaryButtonText: "GET PRICING",
  secondaryButtonText: "SCHEDULE CONSULTATION",
  heroImages: [
    '/src/assets/images/hero-images/Ken Giglio (16 x 9) - compressed.jpg',
    '/src/assets/images/hero-images/Cindy Nguyen (16 x 9) - compressed.jpg'
  ],
  mainHeading: h1
};







---

<MainLayout title = "Richard Waine Photography">

	<section id="hero">
	<Hero
		title={heroContent.title}
		subtitle={heroContent.subtitle}
		primaryButtonText={heroContent.primaryButtonText}
		secondaryButtonText={heroContent.secondaryButtonText}
		heroImages={heroContent.heroImages}
		mainHeading={heroContent.mainHeading}
	/>

    </section>

	<section id="problem">

		<Problem />

	</section>

	<section id="features">

		<Features />

	</section>



	<section id="promo-video">
    <div class="video-container">
        <div class="video-wrapper">
            <button class="close-video-btn" aria-label="Close video">Ã—</button>
            <video class="promo-video" controls controlslist="nodownload noplaybackrate nopictureinpicture" loop width="1000" height="563" poster={videoPoster.src}>
                <source src={promoVideo} type="video/mp4">
                <track kind="captions" src={captions} srclang="en" label="English" default>
            </video>
        </div>
    </div>
</section>

	<!-- 
	<section id="promo-video">
		<div class="video-container">
			<video class="promo-video" controls controlslist="nodownload noplaybackrate nopictureinpicture" loop width="1000" height="563" poster={videoPoster.src}>
			<source src={promoVideo} type="video/mp4">
			<track kind="captions" src={captions} srclang="en" label="English" default>
			</video>
		</div>

	</section>

-->


	<section id="neural-portrait">
		<NeuralPortrait />

	</section>

	<section id="tear-sheet">
		<TearSheet />

	</section>

	<section id="office-headshots">
		<OfficeHeadshots />
		<TearSheet />
	</section>


	<section id="testimonials">
		<Testimonials limit={3} filterByNames={["Wendy Booker", "Scott Kantner", "Ellen Taylor"]}/>
	</section>

	<section id="process">
		<Process />
	</section>

	<section id="brief-bio">
		<BriefBio />
		<FloatingStats />
	</section>

	<section id="hs-near">
		<HeadshotsNear />

	</section>

	<section id="professions">
		<Professions />

	</section>

	<section id="did-you-know">
			<DidYouKnow />

		</section>

	<section id="faqs">
			<FAQs />

		</section>

</MainLayout>


<style>
#hero{
/* margin:0; */
padding:0;
min-height:calc(100vh + 120px);
display:grid;
place-items:center;


}
	
/*video section */

#promo-video {
    padding-block: var(--size-8);
}

.video-container {
	
    height: auto;
    padding-block: var(--size-7);
}

.video-wrapper {
    width: min(1000px, 100%);
    position: relative;
	margin-inline: auto; /* Centers the video in the section */
}

.video-wrapper .promo-video {
    width: 100%;
    height: auto;
    display: block;
	
   
}

/* Close Button Styling */
.close-video-btn {
    display: none;
    position: absolute;
    top: -15px;
    right: -15px;
    width: 30px;
    height: 30px;
    background: #000;
    color: #fff;
    border: 2px solid #fff;
    border-radius: 50%;
    cursor: pointer;
    z-index: 1001;
    font-size: 20px;
    line-height: 1;
    align-items: center;
    justify-content: center;
}

/* Fixed State */
.video-wrapper.fixed {
    width: 400px;
    position: fixed;
    bottom: 25px;
    left: 25px;
    z-index: 1000;
}

.video-wrapper.fixed .close-video-btn {
    display: flex;
}



/*
#promo-video {

padding-block:var(--size-8);

}

.video-container{
height:auto;
padding-block:var(--size-7);
}

.promo-video{

	width:min(1000px , 100%);
}

.promo-video.fixed {
	width: 400px;
	height: auto;
	position: fixed;
	bottom: 25px;
	left: 25px;
	z-index: 1000;
	display: block;
	object-fit: contain;
}

*/




/* 100vh sections */
#features, #neural-portrait, #office-headshots,  #brief-bio, #problem

{
	/* height:calc(100vh - var(--header-height)); */
	min-height:100vh;
	
	display:grid;
	place-items:center;
}




/* Natural height sections */
#promo-video, #tear-sheet, #process, #testimonials, #hs-near, #professions, #did-you-know, #faqs {
	height: auto;
	display:grid;
	place-items:center;
	/* margin-top: 120px; */
}

/* Dark background sections */
#features, #neural-portrait, #office-headshots, #testimonials, #brief-bio, #professions{
	background:var(--drkbg);

}


#brief-bio{
	min-height:100vh;
	margin:0;

	display:grid;
	grid-template-rows: auto auto;
	grid-template-columns: 1fr;
	place-items:center;


}






</style>



<script>

import gsap from 'gsap';
import { Flip } from 'gsap/Flip';
import { ScrollTrigger } from 'gsap/ScrollTrigger';

gsap.registerPlugin(Flip, ScrollTrigger);

// Target the wrapper instead of the video
const wrapper = document.querySelector(".video-wrapper");
const closeBtn = document.querySelector(".close-video-btn");

ScrollTrigger.create({
  trigger: ".video-container",
  start: "90% top",
  onEnter: () => toggleVideo("add"),
  onLeaveBack: () => toggleVideo("remove")
});

// Close button click event
if (closeBtn) {
  closeBtn.addEventListener("click", () => {
    toggleVideo("remove");
  });
}

function toggleVideo(action: 'add' | 'remove') {
  if (!wrapper) return;

  const state = Flip.getState(wrapper);
  
  if (action === 'add') {
    wrapper.classList.add("fixed");
  } else {
    wrapper.classList.remove("fixed");
  }

  Flip.from(state, {
    duration: 1,
    ease: "power3.out",
    scale: true
  });
}
</script>





<!--
<script>
	
import gsap from 'gsap';
import { Flip } from 'gsap/Flip';
import { ScrollTrigger } from 'gsap/ScrollTrigger';

gsap.registerPlugin(Flip, ScrollTrigger);

let video = document.querySelector(".promo-video");

ScrollTrigger.create({
  trigger: ".video-container",
  start: "90% top",
  onEnter: () => toggleVideo("add"),
  onLeaveBack: () => toggleVideo("remove")
});

function toggleVideo(action: 'add' | 'remove') {
  if (!video) return;

  let state = Flip.getState(video);
  if (action === 'add') {
    video.classList.add("fixed");
  } else {
    video.classList.remove("fixed");
  }
  Flip.from(state, {
    scale: true,
    ease: "power3.out",
    duration: 1
  });
}
</script>


-->