---

// @ts-nocheck
// Hero Section Component - World Class Headshot Experience

import { Image } from 'astro:assets';
import PrimaryButton from './PrimaryButton.astro';
import SecondaryButton from './SecondaryButton.astro';
import heroBackground from '../assets/bts-hero-background.webp';
import heroBackgroundMobile from '../assets/bts-hero-background-mobile.webp';

export interface Props {
  title?: string[];
  h1?: string;
  primaryButtonText?: string;
  secondaryButtonText?: string;
  primaryButtonUrl?: string;
  secondaryButtonUrl?: string;
  backgroundImage?: string;
  heroImages?: string[];
  tagline?: string;
  taglineSubtext?: string;
  mainHeading?: string;
}

const {
  title = ["WORLD CLASS", "HEADSHOT", "EXPERIENCE"],
  h1 = "Professional Headshots Lancaster",
  primaryButtonText = "GET PRICING",
  secondaryButtonText = "SCHEDULE CONSULT",
  primaryButtonUrl = "/rates",
  secondaryButtonUrl = "https://app.acuityscheduling.com/schedule.php?owner=13511326&appointmentType=11959793",
  backgroundImage = "/src/assets/bts-hero-background.jpg",
  heroImages = [
    '/src/assets/images/hero-images/Ken Giglio (16 x 9) - compressed.jpg',
    '/src/assets/images/hero-images/Cindy Nguyen (16 x 9) - compressed.jpg'
  ],
  tagline = "",
  taglineSubtext = "",
  mainHeading = ""
} = Astro.props;

// COMMENTED OUT - Old rotating carousel image loading
// const allHeroImagesGlob = import.meta.glob('../assets/images/hero-images/*.{jpg,jpeg,png,webp}', { eager: true });
// const allHeroImages = Object.values(allHeroImagesGlob);
// const getImageByPath = (path: string) => {
//   const filename = path.split('/').pop();
//   const found = allHeroImages.find(img => img.default.src.includes(filename || ''));
//   if (!found) {
//     console.error(`Image not found: ${filename}`);
//     return allHeroImages[0];
//   }
//   return found;
// };
// const heroImage1 = getImageByPath(heroImages[0]);
// const heroImage2 = getImageByPath(heroImages[1]);

// Hero Grid Images - 600px versions (primary for desktop/tablet)
import heroImg1_600 from '../assets/images/hero-images/600px/(600px) - Jay Poff_Richard_Waine_Lancaster_PA_0100. - compressed.jpg';
import heroImg2_600 from '../assets/images/hero-images/600px/(600px) - Lisa Torba_Richard_Waine_Lancaster_PA_0158 - compressed.jpg';
import heroImg3_600 from '../assets/images/hero-images/600px/(600px) - aideMMedia_Richard_Waine_Lancaster_PA_0520 - compressed.jpg';
import heroImg4_600 from '../assets/images/hero-images/600px/(600px) - Emily Mainquist_Richard_Waine_Lancaster_PA_0077-1 - compressed.jpg';
import heroImg5_600 from '../assets/images/hero-images/600px/(600px) - aideMMedia_Richard_Waine_Lancaster_PA_0502 - compressed.jpg';
import heroImg6_600 from '../assets/images/hero-images/600px/(600px) - Chubb Insurance_Richard_Waine_Lancaster_PA_0103 - compressed.jpg';
import heroImg7_600 from '../assets/images/hero-images/600px/(600px) - Ken Henry_Richard_Waine_Lancaster_PA_0077 - compressed.jpg';
import heroImg8_600 from '../assets/images/hero-images/600px/(600px) - Brianna Moscarell_Richard_Waine_Lancaster_PA_0059 - compressed.jpg';
import heroImg9_600 from '../assets/images/hero-images/600px/(600px) - Ellen Taylor_Richard_Waine_Lancaster_PA_0093 - compressed.jpg';
import heroImg10_600 from '../assets/images/hero-images/600px/(600px) - Chuck Sierk_Richard_Waine_Lancaster_PA_0116 - compressed.jpg';
import heroImg11_600 from '../assets/images/hero-images/600px/(600px) - Chubb Insurance_Richard_Waine_Lancaster_PA_0100 - compressed.jpg';
import heroImg12_600 from '../assets/images/hero-images/600px/(600px) - Josh Outlar_Richard_Waine_Lancaster_PA_0181 - compressed.jpg';
import heroImg13_600 from '../assets/images/hero-images/600px/(600px) - Jacqueline Eby_Richard_Waine_Lancaster_PA_0091 - compressed.jpg';
import heroImg14_600 from '../assets/images/hero-images/600px/(600px) - Ethan Haymovitz_Richard_Waine_Lancaster_PA_0135 - compressed.jpg';
import heroImg15_600 from '../assets/images/hero-images/600px/(600px) - Stephany Baughman_Richard_Waine_Lancaster_PA_0160 - compressed.jpg';

---


<!-- World-Class Hero Experience -->
<main class="hero-experience" id="heroExperience">

   <!-- Optimized Background Images - Responsive -->
<div class="hero-background-picture">
    <Image
        src={heroBackground}
        alt="behind the scenes of Richard Waine setting up headshot lighting for a professional headshot session at Richard Waine Photography Studio"
        class="hero-background-image"
        loading="eager"
        fetchpriority="high"
        decoding="async"
        widths={[400, 800, 1600]}
        sizes="(max-width: 768px) 400px, 1600px"
        data-mobile-src={heroBackgroundMobile.src}
    />
</div>

    <!-- Background with Sophisticated Depth -->
    <div class="background-depth">
        <div class="depth-layer layer-1"></div>
        <div class="depth-layer layer-2"></div>
        <div class="depth-layer layer-3"></div>
    </div>

    <!-- Main Content Wrapper -->
    <div class="hero-content-wrapper">
        <!-- Main Experience Content -->
        <div class="experience-content">
        
        <!-- Animated Text Reveal -->
        <div class="text-reveal-container">
            <div class="experience-title">
                <div class="title-line" data-delay="0">
                    <span class="word">{title[0]}</span>
                </div>
                <div class="title-line" data-delay="100">
                    <span class="word accent-word">{title[1]}</span>
                </div>
                <div class="title-line" data-delay="200">
                    <span class="word">{title[2]}</span>
                </div>
            </div>

            <h1 class="experience-h1" data-delay="600">
                {h1}
            </h1>
            
            <!-- Interactive Action Area -->
            <div class="action-area" data-delay="800">
                <div class="action-buttons">
                    <div class="button-wrapper">
                        <PrimaryButton text={primaryButtonText} url={primaryButtonUrl} />
                    </div>
                    <div class="button-wrapper">
                        <SecondaryButton text={secondaryButtonText} url={secondaryButtonUrl} />
                    </div>
                </div>
            </div>
        </div>

        <!-- COMMENTED OUT - Old 2-image rotating carousel -->
        <!--
        <div class="showcase-3d" id="showcase3D">
            <div class="showcase-container">
                <div class="featured-image-3d">
                    <div class="image-depth-layers">
                        <div class="image-layer foreground">
                                <Image src={heroImage1.default}
                                     alt="Professional Executive Headshot"
                                     class="hero-image active"
                                     data-index={0}
                                     loading="eager"
                                     fetchpriority="high" />
                                <Image src={heroImage2.default}
                                     alt="Professional Executive Headshot"
                                     class="hero-image"
                                     data-index={1}
                                     loading="lazy" />
                        </div>
                        <div class="image-layer shadow"></div>
                    </div>
                </div>
            </div>
        </div>
        -->

        <!-- 3D Showcase Element - 15 Image Grid -->
        <div class="showcase-3d" id="showcase3D">
            <div class="showcase-container">
                <div class="featured-image-3d">
                    <div class="image-depth-layers">
                        <div class="image-layer foreground">
                            <div class="hero-image-grid">
                                <!-- Row 1 -->
                                <div class="hero-grid-img img-1">
                                    <Image
                                        src={heroImg1_600}
                                        alt="Professional headshot - Lancaster PA"
                                        loading="eager" fetchpriority="high"
                                        widths={[400, 600]}
                                        sizes="(max-width: 767px) 45vw, (max-width: 1023px) 30vw, 120px"
                                        width={300}
                                        height={300}
                                    />
                                </div>
                                <div class="hero-grid-img img-2">
                                    <Image
                                        src={heroImg2_600}
                                        alt="Professional headshot - Lancaster PA"
                                        loading="eager"
                                        widths={[400, 600]}
                                        sizes="(max-width: 767px) 45vw, (max-width: 1023px) 30vw, 120px"
                                        width={300}
                                        height={300}
                                    />
                                </div>
                                <div class="hero-grid-img img-3">
                                    <Image
                                        src={heroImg3_600}
                                        alt="Professional headshot - Lancaster PA"
                                        loading="lazy"
                                        widths={[400, 600]}
                                        sizes="(max-width: 1023px) 30vw, 120px"
                                        width={300}
                                        height={300}
                                    />
                                </div>
                                <div class="hero-grid-img img-4">
                                    <Image
                                        src={heroImg4_600}
                                        alt="Professional headshot - Lancaster PA"
                                        loading="lazy"
                                        widths={[400, 600]}
                                        sizes="(max-width: 1023px) 30vw, 120px"
                                        width={300}
                                        height={300}
                                    />
                                </div>
                                <div class="hero-grid-img img-5">
                                    <Image
                                        src={heroImg5_600}
                                        alt="Professional headshot - Lancaster PA"
                                        loading="lazy"
                                        widths={[400, 600]}
                                        sizes="(max-width: 1023px) 30vw, 120px"
                                        width={300}
                                        height={300}
                                    />
                                </div>
                                <!-- Row 2 -->
                                <div class="hero-grid-img img-6">
                                    <Image
                                        src={heroImg6_600}
                                        alt="Professional headshot - Lancaster PA"
                                        loading="lazy"
                                        widths={[400, 600]}
                                        sizes="(max-width: 1023px) 30vw, 120px"
                                        width={300}
                                        height={300}
                                    />
                                </div>
                                <div class="hero-grid-img img-7">
                                    <Image
                                        src={heroImg7_600}
                                        alt="Professional headshot - Lancaster PA"
                                        loading="lazy"
                                        widths={[400, 600]}
                                        sizes="(max-width: 1023px) 30vw, 120px"
                                        width={300}
                                        height={300}
                                    />
                                </div>
                                <div class="hero-grid-img img-8">
                                    <Image
                                        src={heroImg8_600}
                                        alt="Professional headshot - Lancaster PA"
                                        loading="lazy"
                                        widths={[400, 600]}
                                        sizes="(max-width: 1023px) 30vw, 120px"
                                        width={300}
                                        height={300}
                                    />
                                </div>
                                <div class="hero-grid-img img-9">
                                    <Image
                                        src={heroImg9_600}
                                        alt="Professional headshot - Lancaster PA"
                                        loading="lazy"
                                        widths={[400, 600]}
                                        sizes="(max-width: 1023px) 30vw, 120px"
                                        width={300}
                                        height={300}
                                    />
                                </div>
                                <div class="hero-grid-img img-10">
                                    <Image
                                        src={heroImg10_600}
                                        alt="Professional headshot - Lancaster PA"
                                        loading="lazy"
                                        widths={[400, 600]}
                                        sizes="120px"
                                        width={300}
                                        height={300}
                                    />
                                </div>
                                <!-- Row 3 -->
                                <div class="hero-grid-img img-11">
                                    <Image
                                        src={heroImg11_600}
                                        alt="Professional headshot - Lancaster PA"
                                        loading="lazy"
                                        widths={[400, 600]}
                                        sizes="120px"
                                        width={300}
                                        height={300}
                                    />
                                </div>
                                <div class="hero-grid-img img-12">
                                    <Image
                                        src={heroImg12_600}
                                        alt="Professional headshot - Lancaster PA"
                                        loading="lazy"
                                        widths={[400, 600]}
                                        sizes="120px"
                                        width={300}
                                        height={300}
                                    />
                                </div>
                                <div class="hero-grid-img img-13">
                                    <Image
                                        src={heroImg13_600}
                                        alt="Professional headshot - Lancaster PA"
                                        loading="lazy"
                                        widths={[400, 600]}
                                        sizes="120px"
                                        width={300}
                                        height={300}
                                    />
                                </div>
                                <div class="hero-grid-img img-14">
                                    <Image
                                        src={heroImg14_600}
                                        alt="Professional headshot - Lancaster PA"
                                        loading="lazy"
                                        widths={[400, 600]}
                                        sizes="120px"
                                        width={300}
                                        height={300}
                                    />
                                </div>
                                <div class="hero-grid-img img-15">
                                    <Image
                                        src={heroImg15_600}
                                        alt="Professional headshot - Lancaster PA"
                                        loading="lazy"
                                        widths={[400, 600]}
                                        sizes="120px"
                                        width={300}
                                        height={300}
                                    />
                                </div>
                            </div>
                        </div>
                        <div class="image-layer shadow"></div>
                    </div>
                </div>
            </div>
        </div>

        </div>
    </div>
</main>


<style>

/* ==========================================
   MOBILE-FIRST HERO STYLES
   Base styles = mobile (320px - 767px)
   min-width: 768px = tablet
   min-width: 1024px = desktop
   min-width: 1200px = large desktop
   ========================================== */

img{
object-fit: cover;    

}


/* Background Depth System */
.background-depth {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -1;
    overflow: hidden;
}

.depth-layer {
    position: absolute;
    width: 100%;
    height: 100%;
}

.layer-1 {
    background: 
        radial-gradient(ellipse at 30% 70%, rgba(37, 37, 37, 0.3) 0%, transparent 70%),
        radial-gradient(ellipse at 70% 30%, rgba(26, 26, 26, 0.4) 0%, transparent 70%);
    animation: depthFloat1 20s ease-in-out infinite;
}

.layer-2 {
    background: 
        radial-gradient(ellipse at 80% 20%, rgba(3, 169, 244, 0.02) 0%, transparent 60%),
        radial-gradient(ellipse at 20% 80%, rgba(255, 255, 255, 0.01) 0%, transparent 50%);
    animation: depthFloat2 25s ease-in-out infinite reverse;
}

.layer-3 {
    background:
        linear-gradient(135deg,
            rgba(15, 15, 15, 0.8) 0%,
            rgba(26, 26, 26, 0.6) 50%,
            rgba(37, 37, 37, 0.4) 100%);
}

/* Hero Background Picture Container */
.hero-background-picture {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -2;
}

/* Hero Background Image */
.hero-background-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
    filter: brightness(1);
}

/* Hero Experience Layout - MOBILE BASE */
.hero-experience {
    /* margin-top: var(--header-height); */
    height: auto;
    min-height: 100vh;
    position: relative;
    width: 100%;
    overflow-x: hidden;
    justify-content: center;
}

.hero-experience::before {
    content: '';
    position: absolute;
    inset: 0;
    background: rgba(15, 15, 15, 0.65);
    z-index: 1;
}

.hero-content-wrapper {
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    box-sizing: border-box;
    width: 100%;
    max-width: 100%;
    padding-inline: var(--size-7);
    
}

.experience-content {
    margin: 0 auto;
    padding: 0;
    display: flex;
    flex-direction: column;
    gap: 0;
    align-items: center;
    position: relative;
    z-index: 2;
    padding-top:calc(var(--size-8) + var(--header-height)); /* added 12/17/2025 */
   
}

/* Advanced Typography - MOBILE BASE */
.experience-title {
    font-size: clamp(2.5rem, 8vw, 6rem);
    font-weight: 900;
    line-height: var(--line-height-dramatic);
    margin-bottom: var(--size-775);
    perspective: 1000px;
    text-shadow: 0 0 60px rgba(3, 169, 244, 0.1);
    font-family: 'Montserrat', sans-serif;
    text-align: center;
    text-transform: none;
    color: #ffffff;
}

.title-line {
    overflow: hidden;
    margin: var(--size-225) 0;
    transform-style: preserve-3d;
}

.word {
    display: inline-block;
    transform: translateY(100%) rotateX(-90deg);
    transform-origin: bottom;
    transition: all 0.8s cubic-bezier(0.23, 1, 0.32, 1);
    text-shadow: 0 0 10px rgba(0, 0, 0, .5);
    font-weight: 900;
    font-size: inherit;
}

.accent-word {
    color: var(--accent);
}

.word.revealed {
    transform: translateY(0) rotateX(0deg);
}

.experience-h1 {
    text-align:center;
    font-size: var(--fs-550);
    font-weight: 400;
    color: var(--faded);
    line-height: var(--line-height-relaxed);
    max-inline-size: 31.5rem;
    transform: translateY(var(--size-6));
    opacity: 0;
    transition: all 1s cubic-bezier(0.23, 1, 0.32, 1);

  

    /* padding-left:.25rem; */
}

.experience-h1.revealed {
    transform: translateY(0);
    opacity: 1;
}

/* Text Reveal Container - MOBILE BASE */
.text-reveal-container {
    order: 1;
    text-align: center;
}

/* 3D Showcase Element - MOBILE BASE */
.showcase-3d {
    order: 2;
    margin-top: 0;
    perspective: 1200px;
    transform-style: preserve-3d;
    padding-block:var(--size-8);
    

}

.showcase-container {
    position: relative;
    transform-style: preserve-3d;
    animation: none;
}

.featured-image-3d {
    position: relative;
    transform-style: preserve-3d;
    filter: drop-shadow(0 0 10px rgba(0, 80, 160, 0.3));
    will-change: transform;
}

.image-depth-layers {
    position: relative;
    width: 100%;
    max-width: 100%;
    height: auto;
    transform-style: preserve-3d;
    background: transparent;
    margin: 0;
    padding: 0;
}

.image-layer {
    position: relative;
    width: 100%;
    height: 100%;
}

.image-layer.foreground {
    position: relative;
    z-index: 3;
    transform: none;
    overflow: hidden;
    display: grid;
    place-items: center;
    background: transparent;
    padding: 0;
    border-radius: 0;
    width: 100%;
    height: auto;
}

.image-layer.shadow {
    display: none;
}

/* Hero Image Grid - MOBILE BASE */

.hero-image-grid {
    display: grid;
    grid-template-columns: repeat(1, 1fr);
    width: 100%;
    max-width: 320px;
    width:min(320px, 100%);
    gap: var(--size-3);
    padding: 0;
    margin: 0 auto;
}


.hero-grid-img {
    line-height: 0;
    overflow: hidden;
    display: none;
}

.hero-grid-img.img-1,
.hero-grid-img.img-2 {
    display: block;
}




/* 3D Action Buttons - MOBILE BASE */
.action-area {
    margin-top:var(--size-8);
    opacity: 0;
    transform: translateY(var(--size-825));
    transition: all 1s cubic-bezier(0.23, 1, 0.32, 1);
}

.action-area.revealed {
    opacity: 1;
    transform: translateY(0);
}

.action-buttons {
    display: flex;
    flex-direction: column;
    flex-wrap: wrap;
    gap: var(--size-4);
    width:min(320px, 100%);
    justify-self:center;
   
}



/* Animations */
@keyframes depthFloat1 {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-20px); }
}

@keyframes depthFloat2 {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-15px); }
}

@keyframes showcaseFloat {
    0%, 100% { transform: rotateY(0deg) rotateX(0deg); }
    25% { transform: rotateY(5deg) rotateX(2deg); }
    50% { transform: rotateY(0deg) rotateX(5deg); }
    75% { transform: rotateY(-5deg) rotateX(2deg); }
}

/* ==========================================
   TABLET - min-width: 48em (768px)
   ========================================== */
@media (min-width: 48em) {
    .hero-experience {
        /* margin-top:var(--header-height); */
        /* margin-top: 0; */
        /* height: 100vh; */
        /* height: calc(100vh - var(--header-height)); */
        
    }

    .hero-content-wrapper {
        padding-inline: 0;
        
    }

    .experience-content {
        display: grid;
        grid-template-columns: 1fr;
        text-align: center;
        /* grid-gap: 30px; */
    }

    .experience-title {
        font-size: clamp(3rem, 8vw + 1rem, 6rem);
        text-align: center;
    }

    .text-reveal-container {
        order: unset;
        text-align: left;
        display:grid;
        justify-items:center;
    }


    .showcase-3d {
        position:relative;
        order: unset;
        width:100%;
        height:auto;
        padding-bottom:var(--size-11);
        
    }

    .image-depth-layers {
        width: min(400px, 100%);
        height: min(480px,100%);

        width:100%;
        height:100%;
        

        margin: 0 auto;
        aspect-ratio: 3 / 2;
    }

    .image-layer {
        position: absolute;
        width: 100%;
        height: 100%;
    }

    .image-layer.foreground {
        position: absolute;
        transform: translateZ(20px);
        background: var(--drkbg);
        border-radius: 15px;
        /* width: min(768px, 100%); 950px; */

             
        height:auto;

        
        
        display:grid;
        justify-self:center;
        align-items:center;
    }

    .image-layer.shadow {
        display: block;
        background: var(--shadow-clr-soft);
        filter: blur(15px);
        transform: translateZ(-10px) translateY(20px) translateX(20px) scale(0.95);
        z-index: 1;
        border-radius: 15px;
    }

    .hero-image-grid {
        position:relative;
        display:grid;
        margin-block:auto;
        margin-inline:auto;
        grid-template-columns: repeat(4, 1fr);
        grid-template-rows: repeat(3, 1fr);
        height: auto;
        min-width:100%;
        gap:.5vw;
        padding:var(--size-3);
        justify-items:center;
        align-items:center;
        contain:layout; /*added per gemini on 1/12/2025 */
        
    }

    .hero-grid-img {
        border-radius: 6px;
        
        width:100%;
        height:100%;
        object-fit:cover;
        
    }

    .hero-grid-img.img-1,
    .hero-grid-img.img-2,
    .hero-grid-img.img-3,
    .hero-grid-img.img-4,
    .hero-grid-img.img-5,
    .hero-grid-img.img-6,
    .hero-grid-img.img-7,
    .hero-grid-img.img-8,
    .hero-grid-img.img-9,
    .hero-grid-img.img-10,
    .hero-grid-img.img-11,
    .hero-grid-img.img-12  {
        display: block;
        
    }

    .hero-grid-img img {
        height: 100%;
        border-radius: 0;
    }

    .action-buttons {
    flex-direction: row;
    gap: var(--size-6);
    flex-wrap: wrap;
    width:min(768px, 100%);
    justify-self:center;
    align-items:center;

    }
}

/* ==========================================
   DESKTOP - min-width: 64em (1024px)
   ========================================== */
@media (min-width: 64em) {

    .hero-experience {
    margin-top: var(--header-height);
    width:100%;
    margin-inline:0;
    display:flex;
    align-items:center;



    }


    .experience-content {
        width:100%;

        padding-top:var(--size-7);
        grid-template-columns: 1fr;
        /* grid-template-rows: 1fr 1fr; */
        grid-template-rows: auto auto;
        grid-gap: 80px;
        align-items:center;
        justify-content: center;
        place-items:center;
      
    }

    .experience-title{
        text-align:center;
    }

    .text-reveal-container > *{
        justify-self:center;

    }

    .showcase-container{
        margin:0;
        width:100%;
       
    }

    .image-depth-layers {
        width: 100%;
        max-width: 950px;
        height: auto;


        
    }

    .image-layer.foreground {
        width: 950px;

        margin-left:0;
        padding-left:0;
        padding-right:0;
        margin-right:0;
        max-width:100%;
    }

    .hero-image-grid {
        grid-template-columns: repeat(5, 1fr);
        grid-template-rows: repeat(3, 1fr);
        width: 100%;
        height: 100%;
        padding:var(--size-3);
        gap:.5vw;
          
        max-width:100%;
    }

    .hero-grid-img {
        display:grid;
        object-fit:cover;
        width:100%;
        height:100%;
        
        

    }

    .hero-grid-img.img-1,
    .hero-grid-img.img-2,
    .hero-grid-img.img-3,
    .hero-grid-img.img-4,
    .hero-grid-img.img-5,
    .hero-grid-img.img-6,
    .hero-grid-img.img-7,
    .hero-grid-img.img-8,
    .hero-grid-img.img-9,
    .hero-grid-img.img-10,
    .hero-grid-img.img-11,
    .hero-grid-img.img-12,
    .hero-grid-img.img-13,
    .hero-grid-img.img-14,
    .hero-grid-img.img-15
      {
        display: block;
        
    }

    .showcase-container {
       /* margin-top:var(--size-10); */
        /* animation: showcaseFloat 30s ease-in-out infinite; */
    }

    .showcase-3d {
        padding-block:0;

    }
}

/* ==========================================
   LARGE DESKTOP - min-width: 75em (1200px)
   ========================================== */
@media (min-width: 75em) {

  
    .experience-content {
        
        width:100%;

        grid-template-columns: 1fr 1.1fr;
        grid-template-rows: 1fr;
        
        
        text-align: left;
        gap: var(--size-8);
        padding-block:0;
        padding-inline:var(--size-7); 
    }

      .text-reveal-container{
        min-width: 0;
        max-inline-size: 100%;
        
      }  

      .experience-title {
        font-size: clamp(2.5rem, 4vw + 1rem, 4rem);
         text-align:left;
    }
       

    .text-reveal-container > *{
        justify-self:left;

    }
        .showcase-container {
        
        margin-top:var(--size-8);
        animation: showcaseFloat 30s ease-in-out infinite;

    }


    .hero-image-grid{
        padding:.5rem;
    }
  
}

@media (min-width: 125em) {

.experience-content{
    grid-template-columns: 1fr 1.1fr;


    
}
 .experience-title {
font-size: clamp(3rem, 8vw + 1rem, 6rem);
 }


.image-depth-layers{
        display:grid;
        align-items:center;
    }
    
    .hero-image-grid{
        padding:.5rem;
        display:grid;
        grid-template-columns: repeat(5, 1fr);
        grid-template-rows:repeat(3 , 1fr);
        margin:0;
    }



 .hero-grid-img {
        
        object-fit:cover;
        width:100%;
        height:100%;
        gap:5vh;
        

    }
    .showcase-container {
        
        margin-top:var(--size-10);
}

</style>


<script>
    // Declare global window property
    declare global {
        interface Window {
            heroExperienceInstance?: HeroExperience | null;
        }
    }

    // ViewTransition-compatible Hero Experience Class
    class HeroExperience {
        private elements: {
            titleLines: NodeListOf<Element>;
            h1: Element | null;
            actionArea: Element | null;
            heroImages: NodeListOf<Element>;
        };
        private currentImageIndex: number = 0;
        private imageInterval: any = null;
        private animationTimeouts: any[] = [];
        private observer: IntersectionObserver | null = null;

        constructor() {
            this.elements = {
                titleLines: document.querySelectorAll('.title-line'),
                h1: document.querySelector('.experience-h1'),
                actionArea: document.querySelector('.action-area'),
                heroImages: document.querySelectorAll('.hero-image')
            };

            this.init();
        }
        

        /* init(): void {
            this.setupIntersectionObserver();
            this.startAnimationSequence();
        } */
    

        init(): void {
            if (window.requestIdleCallback) {
                window.requestIdleCallback(() => {
                    this.setupIntersectionObserver();
                    this.startAnimationSequence();
                });
            } else {
                setTimeout(() => {
                    this.setupIntersectionObserver();
                    this.startAnimationSequence();
                }, 1);
            }
        }
        
        setupIntersectionObserver(): void {
            if (this.observer) {
                this.observer.disconnect();
            }

            this.observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('revealed');
                    }
                });
            }, {
                threshold: 0.1,
                rootMargin: '0px 0px -10% 0px'
            });

            // Observe all animated elements
            document.querySelectorAll('[data-delay], .experience-h1, .action-area').forEach(el => {
                if (this.observer) {
                    this.observer.observe(el);
                }
            });
        }
        
        startAnimationSequence(): void {
            // Clear any existing timeouts
            this.animationTimeouts.forEach(timeout => clearTimeout(timeout));
            this.animationTimeouts = [];

            // Stagger text reveal animations
            const mainTimeout = setTimeout(() => {
                this.elements.titleLines.forEach((line: Element, index: number) => {
                    const htmlElement = line as HTMLElement;
                    const delay = parseInt(htmlElement.dataset.delay || '0') || index * 100;
                    const timeout = setTimeout(() => {
                        const word = line.querySelector('.word');
                        if (word) word.classList.add('revealed');
                    }, delay);
                    this.animationTimeouts.push(timeout);
                });
            }, 500);
            this.animationTimeouts.push(mainTimeout);

            // Subtitle reveal
            const subtitleTimeout = setTimeout(() => {
                if (this.elements.h1) {
                    this.elements.h1.classList.add('revealed');
                }
            }, 1200);
            this.animationTimeouts.push(subtitleTimeout);
            
            // Action area reveal
            const actionTimeout = setTimeout(() => {
                if (this.elements.actionArea) {
                    this.elements.actionArea.classList.add('revealed');
                }
            }, 2400);
            this.animationTimeouts.push(actionTimeout);
        }
        
        // COMMENTED OUT - No longer needed for static grid
        /*
        startImageRotation(): void {
            if (this.elements.heroImages.length <= 1) return;

            // Clear existing interval
            if (this.imageInterval) {
                clearInterval(this.imageInterval);
            }

            // Image rotation enabled with preloaded images to prevent pulsing
            this.imageInterval = setInterval(() => {
                // Remove active class from current image
                this.elements.heroImages[this.currentImageIndex].classList.remove('active');

                // Move to next image
                this.currentImageIndex = (this.currentImageIndex + 1) % this.elements.heroImages.length;

                // Add active class to new image
                this.elements.heroImages[this.currentImageIndex].classList.add('active');
            }, 6000); // Change image every 6 seconds
        }
        */

        destroy(): void {
            // Clear all timeouts
            this.animationTimeouts.forEach(timeout => clearTimeout(timeout));
            this.animationTimeouts = [];

            // COMMENTED OUT - No longer needed for static grid
            /*
            // Clear image rotation interval
            if (this.imageInterval) {
                clearInterval(this.imageInterval);
                this.imageInterval = null;
            }
            */

            // Disconnect observer
            if (this.observer) {
                this.observer.disconnect();
                this.observer = null;
            }
        }

        reinitialize(): void {
            // Reset all elements to initial state
            this.elements.titleLines.forEach(line => {
                const word = line.querySelector('.word');
                if (word) word.classList.remove('revealed');
            });

            if (this.elements.h1) {
                this.elements.h1.classList.remove('revealed');
            }

            if (this.elements.actionArea) {
                this.elements.actionArea.classList.remove('revealed');
            }

            // Reinitialize everything
            this.init();
        }
    }
    
    // Global hero instance management for ViewTransitions
    function initializeHero() {
        // Clean up existing instance if it exists
        if (window.heroExperienceInstance) {
            window.heroExperienceInstance.destroy();
        }
        
        // Create new instance
        window.heroExperienceInstance = new HeroExperience();
    }

    function reinitializeHero() {
        if (window.heroExperienceInstance) {
            window.heroExperienceInstance.reinitialize();
        } else {
            initializeHero();
        }
    }
    
    // Initialize on regular page load and ViewTransitions
    document.addEventListener('DOMContentLoaded', initializeHero);
    document.addEventListener('astro:page-load', initializeHero);
    
    // Clean up before any navigation
    document.addEventListener('astro:before-preparation', () => {
        if (window.heroExperienceInstance) {
            window.heroExperienceInstance.destroy();
            window.heroExperienceInstance = null;
        }
    });

    // Initialize after page swap (handles back button)
    document.addEventListener('astro:after-swap', initializeHero);
</script>