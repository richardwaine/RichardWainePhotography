---
// @ts-nocheck
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import { ClientRouter } from 'astro:transitions';

// Montserrat Variable (replaces 5 weight files)
import '@fontsource-variable/montserrat';

// Space Grotesk Variable (replaces 1 weight file)
import '@fontsource-variable/space-grotesk';

import '../styles/style.css';
import 'gsap';

export interface Props{
	title:string;
	description?:string;
}
const {title, description = "Professional headshot photographer. Corporate headshots, business headshots, executive portraits, LinkedIn profile photos, and acting headshots. Serving Pennsylvania, Maryland, and Delaware"} = Astro.props as Props;
---



<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<meta name="description" content={description} />
		<link rel="preconnect" href="https://www.googletagmanager.com">
		<link rel="dns-prefetch" href="https://www.googletagmanager.com">
		<link rel="icon" type="image/png" href="/favicon.png" />
		<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
		<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
		<link rel="apple-touch-icon" href="/favicon.png" />
		<meta name="generator" content={Astro.generator} />
		<title>{title}</title>
		<link rel="canonical" href={Astro.url.href} />
		<meta property="og:type" content="website" />
		<meta property="og:url" content={Astro.url.href} />
		<meta property="og:title" content={title} />
		<meta property="og:description" content={description} />
		<meta property="og:image" content="https://www.richardwainephotography.com/Logo-RichardWainePhotography-black.png" />
		<meta property="og:image:width" content="3000" />
		<meta property="og:image:height" content="3000" />
		<meta property="og:locale" content="en_US" />
		<ClientRouter />



		<!-- Schema.org Structured Data -->
		<script type="application/ld+json">
		{
			"@context": "https://schema.org",
			"@type": "ProfessionalService",
			"name": "Richard Waine Photography",
			"description": "Professional Headshot Photographer based in Lancaster, Pennsylvania, offering corporate headshots, acting headshots, conference headshots, and commercial photography",
			"image": "https://www.richardwainephotography.com/Logo-RichardWainePhotography-black.png",
			"@id": "https://www.richardwainephotography.com",
			"url": "https://www.richardwainephotography.com",
			"sameAs": [
				"https://www.facebook.com/RichardWainePhotography",
				"https://www.instagram.com/richardwaine",
				"https://www.linkedin.com/in/richardwaine/",
				"https://www.richardwaine.com"
			],
			"telephone": "(717) 925-0061",
			"address": {
				"@type": "PostalAddress",
				"streetAddress": "20 North Queen Street",
				"addressLocality": "Lancaster",
				"addressRegion": "PA",
				"postalCode": "17603",
				"addressCountry": "US"
			},
			"geo": {
				"@type": "GeoCoordinates",
				"latitude": 40.038578,
				"longitude": -76.306020
			},
			"openingHoursSpecification": [
				{
					"@type": "OpeningHoursSpecification",
					"dayOfWeek": "https://schema.org/Monday",
					"opens": "00:00",
					"closes": "23:59"
				},
				{
					"@type": "OpeningHoursSpecification",
					"dayOfWeek": "https://schema.org/Tuesday",
					"opens": "00:00",
					"closes": "23:59"
				},
				{
					"@type": "OpeningHoursSpecification",
					"dayOfWeek": "https://schema.org/Wednesday",
					"opens": "00:00",
					"closes": "23:59"
				},
				{
					"@type": "OpeningHoursSpecification",
					"dayOfWeek": "https://schema.org/Thursday",
					"opens": "00:00",
					"closes": "23:59"
				},
				{
					"@type": "OpeningHoursSpecification",
					"dayOfWeek": "https://schema.org/Friday",
					"opens": "00:00",
					"closes": "23:59"
				},
				{
					"@type": "OpeningHoursSpecification",
					"dayOfWeek": "https://schema.org/Saturday",
					"opens": "00:00",
					"closes": "23:59"
				},
				{
					"@type": "OpeningHoursSpecification",
					"dayOfWeek": "https://schema.org/Sunday",
					"opens": "00:00",
					"closes": "23:59"
				}
			]
		}
		</script>

		<!-- Google Tag Manager -->
		<script is:inline>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
		new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
		j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
		'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
		})(window,document,'script','dataLayer','GTM-KS6CRSL');</script>
		<!-- End Google Tag Manager -->


	</head>




<body>

	<!-- Google Tag Manager (noscript) -->
	<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KS6CRSL"
	height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
	<!-- End Google Tag Manager (noscript) -->

	<Header />

	<slot />


	<Footer  />

	 <script>
	// import Lenis from 'lenis'; // COMMENTED OUT: Now conditionally imported inside initLenis() for desktop only (â‰¥768px)
	import gsap from 'gsap';
	import { Flip } from 'gsap/Flip';
	import { ScrollTrigger } from 'gsap/ScrollTrigger';

	// Extend Window interface for TypeScript
	declare global {
		interface Window {
			lenis?: any;
		}
	}

	// Register ScrollTrigger and Flip plugins
	gsap.registerPlugin(ScrollTrigger, Flip);

	// Disable browser scroll restoration and scroll to top
	if ('scrollRestoration' in history) {
		history.scrollRestoration = 'manual';
	}
	window.scrollTo(0, 0);

	// Wait for DOM to be ready before initializing Lenis
	async function initLenis() {
		if (window.innerWidth <= 767) return;

		if (!window.lenis) {
			const { default: Lenis } = await import('lenis');

			window.lenis = new Lenis({
				duration: 1.2,
				easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),
				prevent: (node) => node.hasAttribute('data-lenis-prevent'),
			});

			window.lenis.on('scroll', ScrollTrigger.update);

			gsap.ticker.add((time) => {
				window.lenis?.raf(time * 1000);
			});

			gsap.ticker.lagSmoothing(0);
		}
	}

	// Initialize on load
	if (document.readyState === 'loading') {
		document.addEventListener('DOMContentLoaded', initLenis);
	} else {
		initLenis();
	}

	// Refresh ScrollTrigger after View Transitions
	document.addEventListener('astro:after-swap', () => {
		ScrollTrigger.getAll().forEach(t => t.kill());
		gsap.globalTimeline.clear();
		if (window.lenis) {
			window.lenis.scrollTo(0, { immediate: true });
		}
		window.scrollTo(0, 0);
		ScrollTrigger.refresh();
	});
	</script>
 


</body>
</html>
