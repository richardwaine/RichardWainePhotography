---
// @ts-nocheck
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import { ClientRouter } from 'astro:transitions';

import '../styles/style.css';

export interface Props{
	title:string;
}
const {title} = Astro.props as Props;
---



<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width" />
		<link rel="icon" type="image/png" href="/favicon.png" />
		<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
		<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
		<link rel="apple-touch-icon" href="/favicon.png" />
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
		<link rel="preload" href="/src/assets/bts-hero-background.jpg" as="image" type="image/jpeg">
		<link rel="preload" href="/src/assets/images/hero-images/Ken Giglio (16 x 9) - compressed.jpg" as="image" type="image/jpeg">
		<link rel="preload" href="/src/assets/images/hero-images/Cindy Nguyen (16 x 9) - compressed.jpg" as="image" type="image/jpeg">
		<meta name="generator" content={Astro.generator} />
		<title>{title}</title>
		<ClientRouter />

	</head>


	
	
<body>

	<Header />

	<slot />

	<Footer  />

	<script>
	import Lenis from 'lenis';
	import gsap from 'gsap';
	import { ScrollTrigger } from 'gsap/ScrollTrigger';

	// Extend Window interface for TypeScript
	declare global {
		interface Window {
			lenis?: any;
		}
	}

	// Register ScrollTrigger plugin
	gsap.registerPlugin(ScrollTrigger);

	// Wait for DOM to be ready before initializing Lenis
	function initLenis() {
		// Initialize Lenis only once (persists across View Transitions)
		if (!window.lenis) {
			window.lenis = new Lenis({
				duration: 1.2,
				easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),
				prevent: (node) => node.hasAttribute('data-lenis-prevent'),
			});

			// Connect Lenis to GSAP ScrollTrigger
			window.lenis.on('scroll', ScrollTrigger.update);

			// Animate Lenis on every frame
			gsap.ticker.add((time) => {
				window.lenis?.raf(time * 1000);
			});

			gsap.ticker.lagSmoothing(0);
		}
	}

	// Initialize on load
	if (document.readyState === 'loading') {
		document.addEventListener('DOMContentLoaded', initLenis);
	} else {
		initLenis();
	}

	// Refresh ScrollTrigger after View Transitions
	document.addEventListener('astro:after-swap', () => {
		ScrollTrigger.refresh();
	});
	</script>

</body>
</html>


