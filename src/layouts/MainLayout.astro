---
// @ts-nocheck
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import { ClientRouter } from 'astro:transitions';

// Montserrat - only weights actually used
import '@fontsource/montserrat/400.css';
import '@fontsource/montserrat/500.css';
import '@fontsource/montserrat/600.css';
import '@fontsource/montserrat/700.css';
import '@fontsource/montserrat/900.css';

// Lato - weights used
import '@fontsource/lato/400.css';
import '@fontsource/lato/700.css';

// Space Grotesk - only weight actually used
import '@fontsource/space-grotesk/400.css';
import '@fortawesome/fontawesome-free/css/all.min.css';

import '../styles/style.css';

export interface Props{
	title:string;
	description?:string;
}
const {title, description = "Professional headshot photography in Lancaster PA. World-class headshot experience with cinematic precision, luxury service, and results that open doors."} = Astro.props as Props;
---



<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<meta name="description" content={description} />
		<link rel="icon" type="image/png" href="/favicon.png" />
		<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
		<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
		<link rel="apple-touch-icon" href="/favicon.png" />
		<meta name="generator" content={Astro.generator} />
		<title>{title}</title>
		<ClientRouter />

	</head>


	
	
<body>

	<Header />

	<slot />

	<Footer  />

	<script>
	import Lenis from 'lenis';
	import gsap from 'gsap';
	import { ScrollTrigger } from 'gsap/ScrollTrigger';

	// Extend Window interface for TypeScript
	declare global {
		interface Window {
			lenis?: any;
		}
	}

	// Register ScrollTrigger plugin
	gsap.registerPlugin(ScrollTrigger);

	// Wait for DOM to be ready before initializing Lenis
	function initLenis() {
		// Initialize Lenis only once (persists across View Transitions)
		if (!window.lenis) {
			window.lenis = new Lenis({
				duration: 1.2,
				easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),
				prevent: (node) => node.hasAttribute('data-lenis-prevent'),
			});

			// Connect Lenis to GSAP ScrollTrigger
			window.lenis.on('scroll', ScrollTrigger.update);

			// Animate Lenis on every frame
			gsap.ticker.add((time) => {
				window.lenis?.raf(time * 1000);
			});

			gsap.ticker.lagSmoothing(0);
		}
	}

	// Initialize on load
	if (document.readyState === 'loading') {
		document.addEventListener('DOMContentLoaded', initLenis);
	} else {
		initLenis();
	}

	// Refresh ScrollTrigger after View Transitions
	document.addEventListener('astro:after-swap', () => {
		ScrollTrigger.refresh();
	});
	</script>

</body>
</html>
